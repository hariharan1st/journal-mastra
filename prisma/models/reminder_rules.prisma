enum DeliveryChannel {
  user_bot
  caregiver_bot
}

model ReminderRule {
  id               String          @id @default(uuid()) @db.Uuid
  catalogueItemId  String          @map("catalogue_item_id") @db.Uuid
  scheduleCron     String          @map("schedule_cron") @db.Text
  timezone         String          @db.Text
  deliveryChannel  DeliveryChannel @map("delivery_channel")
  escalationPolicy Json            @map("escalation_policy") @db.JsonB
  active           Boolean         @default(true)

  catalogueItem      TrackingCatalogueItem @relation(fields: [catalogueItemId], references: [id], onDelete: Cascade)
  reminderDispatches ReminderDispatch[]

  @@map("reminder_rules")
}